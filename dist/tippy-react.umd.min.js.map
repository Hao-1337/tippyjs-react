{"version":3,"file":"tippy-react.umd.min.js","sources":["../src/utils.js","../src/util-hooks.js","../src/className-plugin.js","../src/Tippy.js","../src/useSingleton.js","../src/forwardRef.js","../src/index.js"],"sourcesContent":["export const isBrowser =\r\n  typeof window !== 'undefined' && typeof document !== 'undefined';\r\n\r\nexport function preserveRef(ref, node) {\r\n  if (ref) {\r\n    if (typeof ref === 'function') {\r\n      ref(node);\r\n    }\r\n    if ({}.hasOwnProperty.call(ref, 'current')) {\r\n      ref.current = node;\r\n    }\r\n  }\r\n}\r\n\r\nexport function ssrSafeCreateDiv() {\r\n  return isBrowser && document.createElement('div');\r\n}\r\n\r\nexport function toDataAttributes(attrs) {\r\n  const dataAttrs = {\r\n    'data-placement': attrs.placement,\r\n  };\r\n\r\n  if (attrs.referenceHidden) {\r\n    dataAttrs['data-reference-hidden'] = '';\r\n  }\r\n\r\n  if (attrs.escaped) {\r\n    dataAttrs['data-escaped'] = '';\r\n  }\r\n\r\n  return dataAttrs;\r\n}\r\n\r\nfunction deepEqual(x, y) {\r\n  if (x === y) {\r\n    return true;\r\n  } else if (\r\n    typeof x === 'object' &&\r\n    x != null &&\r\n    typeof y === 'object' &&\r\n    y != null\r\n  ) {\r\n    if (Object.keys(x).length !== Object.keys(y).length) {\r\n      return false;\r\n    }\r\n\r\n    for (const prop in x) {\r\n      if (y.hasOwnProperty(prop)) {\r\n        if (!deepEqual(x[prop], y[prop])) {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function uniqueByShape(arr) {\r\n  const output = [];\r\n\r\n  arr.forEach(item => {\r\n    if (!output.find(outputItem => deepEqual(item, outputItem))) {\r\n      output.push(item);\r\n    }\r\n  });\r\n\r\n  return output;\r\n}\r\n\r\nexport function deepPreserveProps(instanceProps, componentProps) {\r\n  return {\r\n    ...componentProps,\r\n    popperOptions: {\r\n      ...instanceProps.popperOptions,\r\n      ...componentProps.popperOptions,\r\n      modifiers: uniqueByShape([\r\n        ...(instanceProps.popperOptions?.modifiers || []),\r\n        ...(componentProps.popperOptions?.modifiers || []),\r\n      ]),\r\n    },\r\n  };\r\n}\r\n","import {isBrowser} from './utils';\r\nimport {useLayoutEffect, useEffect, useRef} from 'react';\r\n\r\nexport const useIsomorphicLayoutEffect = isBrowser\r\n  ? useLayoutEffect\r\n  : useEffect;\r\n\r\nexport function useMutableBox(initialValue) {\r\n  // Using refs instead of state as it's recommended to not store imperative\r\n  // values in state due to memory problems in React(?)\r\n  const ref = useRef();\r\n\r\n  if (!ref.current) {\r\n    ref.current =\r\n      typeof initialValue === 'function' ? initialValue() : initialValue;\r\n  }\r\n\r\n  return ref.current;\r\n}\r\n","function updateClassName(box, action, classNames) {\r\n  classNames.split(/\\s+/).forEach(name => {\r\n    if (name) {\r\n      box.classList[action](name);\r\n    }\r\n  });\r\n}\r\n\r\nexport const classNamePlugin = {\r\n  name: 'className',\r\n  defaultValue: '',\r\n  fn(instance) {\r\n    const box = instance.popper.firstElementChild;\r\n    const isDefaultRenderFn = () => !!instance.props.render?.$$tippy;\r\n\r\n    function add() {\r\n      if (instance.props.className && !isDefaultRenderFn()) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          console.warn(\r\n            [\r\n              '@tippyjs/react: Cannot use `className` prop in conjunction with',\r\n              '`render` prop. Place the className on the element you are',\r\n              'rendering.',\r\n            ].join(' '),\r\n          );\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      updateClassName(box, 'add', instance.props.className);\r\n    }\r\n\r\n    function remove() {\r\n      if (isDefaultRenderFn()) {\r\n        updateClassName(box, 'remove', instance.props.className);\r\n      }\r\n    }\r\n\r\n    return {\r\n      onCreate: add,\r\n      onBeforeUpdate: remove,\r\n      onAfterUpdate: add,\r\n    };\r\n  },\r\n};\r\n","import React, {cloneElement, useState} from 'react';\r\nimport {createPortal} from 'react-dom';\r\nimport {\r\n  preserveRef,\r\n  ssrSafeCreateDiv,\r\n  toDataAttributes,\r\n  deepPreserveProps,\r\n} from './utils';\r\nimport {useMutableBox, useIsomorphicLayoutEffect} from './util-hooks';\r\nimport {classNamePlugin} from './className-plugin';\r\n\r\nexport default function TippyGenerator(tippy) {\r\n  function Tippy({\r\n    children,\r\n    content,\r\n    visible,\r\n    singleton,\r\n    render,\r\n    reference,\r\n    disabled = false,\r\n    ignoreAttributes = true,\r\n    // Filter React development reserved props\r\n    // added by babel-preset-react dev plugins:\r\n    // transform-react-jsx-self and transform-react-jsx-source\r\n    __source,\r\n    __self,\r\n    ...restOfNativeProps\r\n  }) {\r\n    const isControlledMode = visible !== undefined;\r\n    const isSingletonMode = singleton !== undefined;\r\n\r\n    const childrenRef = children.props.ref;\r\n\r\n    const [mounted, setMounted] = useState(false);\r\n    const [attrs, setAttrs] = useState({});\r\n    const [singletonContent, setSingletonContent] = useState();\r\n    const mutableBox = useMutableBox(() => ({\r\n      container: ssrSafeCreateDiv(),\r\n      renders: 1,\r\n    }));\r\n\r\n    const props = {\r\n      ignoreAttributes,\r\n      ...restOfNativeProps,\r\n      content: mutableBox.container,\r\n    };\r\n\r\n    if (isControlledMode) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        ['trigger', 'hideOnClick', 'showOnCreate'].forEach(nativeStateProp => {\r\n          if (props[nativeStateProp] !== undefined) {\r\n            console.warn(\r\n              [\r\n                `@tippyjs/react: Cannot specify \\`${nativeStateProp}\\` prop in`,\r\n                `controlled mode (\\`visible\\` prop)`,\r\n              ].join(' '),\r\n            );\r\n          }\r\n        });\r\n      }\r\n\r\n      props.trigger = 'manual';\r\n      props.hideOnClick = false;\r\n    }\r\n\r\n    if (isSingletonMode) {\r\n      disabled = true;\r\n    }\r\n\r\n    let computedProps = props;\r\n    const plugins = props.plugins || [];\r\n\r\n    if (render) {\r\n      computedProps = {\r\n        ...props,\r\n        plugins:\r\n          isSingletonMode && singleton.data != null\r\n            ? [\r\n                ...plugins,\r\n                {\r\n                  fn() {\r\n                    return {\r\n                      onTrigger(instance, event) {\r\n                        const node = singleton.data.children.find(\r\n                          ({instance}) =>\r\n                            instance.reference === event.currentTarget,\r\n                        );\r\n                        instance.state.$$activeSingletonInstance =\r\n                          node.instance;\r\n                        setSingletonContent(node.content);\r\n                      },\r\n                    };\r\n                  },\r\n                },\r\n              ]\r\n            : plugins,\r\n        render: () => ({popper: mutableBox.container}),\r\n      };\r\n    }\r\n\r\n    const deps = [reference].concat(children ? [children.type] : []);\r\n\r\n    // CREATE\r\n    useIsomorphicLayoutEffect(() => {\r\n      let element = reference;\r\n      if (reference && reference.hasOwnProperty('current')) {\r\n        element = reference.current;\r\n      }\r\n\r\n      const instance = tippy(element || mutableBox.ref || ssrSafeCreateDiv(), {\r\n        ...computedProps,\r\n        plugins: [classNamePlugin, ...(props.plugins || [])],\r\n      });\r\n\r\n      mutableBox.instance = instance;\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      }\r\n\r\n      if (visible) {\r\n        instance.show();\r\n      }\r\n\r\n      if (isSingletonMode) {\r\n        singleton.hook({\r\n          instance,\r\n          content,\r\n          props: computedProps,\r\n          setSingletonContent,\r\n        });\r\n      }\r\n\r\n      setMounted(true);\r\n\r\n      return () => {\r\n        instance.destroy();\r\n        singleton?.cleanup(instance);\r\n      };\r\n    }, deps);\r\n\r\n    // UPDATE\r\n    useIsomorphicLayoutEffect(() => {\r\n      // Prevent this effect from running on 1st render\r\n      if (mutableBox.renders === 1) {\r\n        mutableBox.renders++;\r\n        return;\r\n      }\r\n\r\n      const {instance} = mutableBox;\r\n\r\n      instance.setProps(deepPreserveProps(instance.props, computedProps));\r\n\r\n      // Fixes #264\r\n      instance.popperInstance?.forceUpdate();\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      } else {\r\n        instance.enable();\r\n      }\r\n\r\n      if (isControlledMode) {\r\n        if (visible) {\r\n          instance.show();\r\n        } else {\r\n          instance.hide();\r\n        }\r\n      }\r\n\r\n      if (isSingletonMode) {\r\n        singleton.hook({\r\n          instance,\r\n          content,\r\n          props: computedProps,\r\n          setSingletonContent,\r\n        });\r\n      }\r\n    });\r\n\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (!render) {\r\n        return;\r\n      }\r\n\r\n      const {instance} = mutableBox;\r\n\r\n      instance.setProps({\r\n        popperOptions: {\r\n          ...instance.props.popperOptions,\r\n          modifiers: [\r\n            ...(instance.props.popperOptions?.modifiers || []).filter(\r\n              ({name}) => name !== '$$tippyReact',\r\n            ),\r\n            {\r\n              name: '$$tippyReact',\r\n              enabled: true,\r\n              phase: 'beforeWrite',\r\n              requires: ['computeStyles'],\r\n              fn({state}) {\r\n                const hideData = state.modifiersData?.hide;\r\n\r\n                // WARNING: this is a high-risk path that can cause an infinite\r\n                // loop. This expression _must_ evaluate to false when required\r\n                if (\r\n                  attrs.placement !== state.placement ||\r\n                  attrs.referenceHidden !== hideData?.isReferenceHidden ||\r\n                  attrs.escaped !== hideData?.hasPopperEscaped\r\n                ) {\r\n                  setAttrs({\r\n                    placement: state.placement,\r\n                    referenceHidden: hideData?.isReferenceHidden,\r\n                    escaped: hideData?.hasPopperEscaped,\r\n                  });\r\n                }\r\n\r\n                state.attributes.popper = {};\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      });\r\n    }, [attrs.placement, attrs.referenceHidden, attrs.escaped, ...deps]);\r\n\r\n    return (\r\n      <>\r\n        {children\r\n          ? cloneElement(children, {\r\n              ref(node) {\r\n                mutableBox.ref = node;\r\n                preserveRef(childrenRef, node);\r\n              },\r\n            })\r\n          : null}\r\n        {mounted &&\r\n          createPortal(\r\n            render\r\n              ? render(\r\n                  toDataAttributes(attrs),\r\n                  singletonContent,\r\n                  mutableBox.instance,\r\n                )\r\n              : content,\r\n            mutableBox.container,\r\n          )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return Tippy;\r\n}\r\n","import {useMutableBox, useIsomorphicLayoutEffect} from './util-hooks';\r\nimport {deepPreserveProps} from './utils';\r\nimport {classNamePlugin} from './className-plugin';\r\nimport {useMemo, useState} from 'react';\r\n\r\nexport default function useSingletonGenerator(createSingleton) {\r\n  return function useSingleton({disabled = false, overrides = []} = {}) {\r\n    const [mounted, setMounted] = useState(false);\r\n    const mutableBox = useMutableBox({\r\n      children: [],\r\n      renders: 1,\r\n    });\r\n\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (!mounted) {\r\n        setMounted(true);\r\n        return;\r\n      }\r\n\r\n      const {children, sourceData} = mutableBox;\r\n\r\n      if (!sourceData) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          console.error(\r\n            [\r\n              '@tippyjs/react: The `source` variable from `useSingleton()` has',\r\n              'not been passed to a <Tippy /> component.',\r\n            ].join(' '),\r\n          );\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      const instance = createSingleton(\r\n        children.map(child => child.instance),\r\n        {\r\n          ...sourceData.props,\r\n          popperOptions: sourceData.instance.props.popperOptions,\r\n          overrides,\r\n          plugins: [classNamePlugin, ...(sourceData.props.plugins || [])],\r\n        },\r\n      );\r\n\r\n      mutableBox.instance = instance;\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      }\r\n\r\n      return () => {\r\n        instance.destroy();\r\n        mutableBox.children = children.filter(\r\n          ({instance}) => !instance.state.isDestroyed,\r\n        );\r\n      };\r\n    }, [mounted]);\r\n\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (!mounted) {\r\n        return;\r\n      }\r\n\r\n      if (mutableBox.renders === 1) {\r\n        mutableBox.renders++;\r\n        return;\r\n      }\r\n\r\n      const {children, instance, sourceData} = mutableBox;\r\n\r\n      if (!(instance && sourceData)) {\r\n        return;\r\n      }\r\n\r\n      const {content, ...props} = sourceData.props;\r\n\r\n      instance.setProps(\r\n        deepPreserveProps(instance.props, {\r\n          ...props,\r\n          overrides,\r\n        }),\r\n      );\r\n\r\n      instance.setInstances(children.map(child => child.instance));\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      } else {\r\n        instance.enable();\r\n      }\r\n    });\r\n\r\n    return useMemo(() => {\r\n      const source = {\r\n        data: mutableBox,\r\n        hook(data) {\r\n          mutableBox.sourceData = data;\r\n          mutableBox.setSingletonContent = data.setSingletonContent;\r\n        },\r\n        cleanup() {\r\n          mutableBox.sourceData = null;\r\n        },\r\n      };\r\n\r\n      const target = {\r\n        hook(data) {\r\n          mutableBox.children = mutableBox.children.filter(\r\n            ({instance}) => data.instance !== instance,\r\n          );\r\n          mutableBox.children.push(data);\r\n\r\n          if (\r\n            mutableBox.instance?.state.isMounted &&\r\n            mutableBox.instance?.state.$$activeSingletonInstance ===\r\n              data.instance\r\n          ) {\r\n            mutableBox.setSingletonContent?.(data.content);\r\n          }\r\n\r\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\r\n            mutableBox.instance.setInstances(\r\n              mutableBox.children.map(child => child.instance),\r\n            );\r\n          }\r\n        },\r\n        cleanup(instance) {\r\n          mutableBox.children = mutableBox.children.filter(\r\n            data => data.instance !== instance,\r\n          );\r\n\r\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\r\n            mutableBox.instance.setInstances(\r\n              mutableBox.children.map(child => child.instance),\r\n            );\r\n          }\r\n        },\r\n      };\r\n\r\n      return [source, target];\r\n    }, []);\r\n  };\r\n}\r\n","import React, {cloneElement, forwardRef} from 'react';\r\nimport {preserveRef} from './utils';\r\n\r\nexport default (Tippy, defaultProps) =>\r\n  forwardRef(function TippyWrapper({children, ...props}, ref) {\r\n    return (\r\n      // If I spread them separately here, Babel adds the _extends ponyfill for\r\n      // some reason\r\n      <Tippy {...{...defaultProps, ...props}}>\r\n        {children\r\n          ? cloneElement(children, {\r\n              ref(node) {\r\n                preserveRef(ref, node);\r\n                preserveRef(children.ref, node);\r\n              },\r\n            })\r\n          : null}\r\n      </Tippy>\r\n    );\r\n  });\r\n","import tippy, {createSingleton} from 'tippy.js';\r\nimport TippyGenerator from './Tippy';\r\nimport useSingletonGenerator from './useSingleton';\r\nimport forwardRef from './forwardRef';\r\n\r\nconst useSingleton = useSingletonGenerator(createSingleton);\r\n\r\nexport default forwardRef(TippyGenerator(tippy));\r\nexport {useSingleton, tippy};\r\n"],"names":["isBrowser","window","document","preserveRef","ref","node","hasOwnProperty","call","current","ssrSafeCreateDiv","createElement","uniqueByShape","arr","output","forEach","item","find","outputItem","deepEqual","x","y","Object","keys","length","prop","push","deepPreserveProps","instanceProps","componentProps","_instanceProps$popper","_componentProps$poppe","assign","popperOptions","modifiers","concat","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","useMutableBox","initialValue","useRef","updateClassName","box","action","classNames","split","name","classList","classNamePlugin","defaultValue","fn","instance","popper","firstElementChild","isDefaultRenderFn","_instance$props$rende","props","render","$$tippy","add","className","onCreate","onBeforeUpdate","onAfterUpdate","TippyGenerator","tippy","_ref","children","content","visible","singleton","reference","_ref$disabled","disabled","_ref$ignoreAttributes","ignoreAttributes","restOfNativeProps","__source","__self","_objectWithoutPropertiesLoose","_excluded","isControlledMode","undefined","isSingletonMode","childrenRef","_useState","useState","mounted","setMounted","_useState2","attrs","setAttrs","_useState3","singletonContent","setSingletonContent","mutableBox","container","renders","trigger","hideOnClick","computedProps","plugins","data","onTrigger","event","_ref2","currentTarget","state","$$activeSingletonInstance","deps","type","element","disable","show","hook","destroy","cleanup","_instance$popperInsta","setProps","popperInstance","forceUpdate","enable","hide","_instance$props$poppe","filter","_ref3","enabled","phase","requires","_ref4","_state$modifiersData","hideData","modifiersData","placement","referenceHidden","isReferenceHidden","escaped","hasPopperEscaped","attributes","React","Fragment","cloneElement","createPortal","dataAttrs","data-placement","toDataAttributes","useSingletonGenerator","createSingleton","_temp","_ref$overrides","overrides","sourceData","map","child","isDestroyed","_sourceData$props","setInstances","useMemo","_mutableBox$instance","_mutableBox$instance2","isMounted","Tippy","defaultProps","forwardRef","useSingleton"],"mappings":"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"}